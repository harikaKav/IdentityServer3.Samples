var MvcAngularClientApp;!function(t){"use strict";function e(e,n){function r(e){return{request:function(e){if("getaccesstoken"===e.url)return e;var n=t.ACCESS_TOKENS[t.BASE_API_URL];return n&&(e.headers.Authorization="Bearer "+n),e},responseError:function(t){return 401===t.status,403===t.status,e.reject(t)}}}r.$inject=["$q"],e.interceptors.push(r),n.when("/",{templateUrl:"/templates/_index.html",controller:"MyController",resolve:{accessToken:function(e){return e.fetchAccessToken(t.BASE_API_URL)}}})}t.NG_MODULE_NAME="MvcAngularClientApp",t.BASE_API_URL="http://localhost:19806/",t.ACCESS_TOKENS={},angular.module(t.NG_MODULE_NAME,["ngRoute"]),e.$inject=["$httpProvider","$routeProvider"],angular.module(t.NG_MODULE_NAME).config(e)}(MvcAngularClientApp||(MvcAngularClientApp={}));var MvcAngularClientApp;!function(t){"use strict";var e=function(){function t(t,e){this.$scope=t,this.myService=e,this.activate()}return t.prototype.activate=function(){var t=this;this.myService.getIdentity().success(function(e){t.$scope.identity=e}).error(function(e){t.$scope.identity="error in getidentity"})},t.$inject=["$scope","MyService"],t}();t.MyController=e,angular.module(t.NG_MODULE_NAME).controller("MyController",e)}(MvcAngularClientApp||(MvcAngularClientApp={}));var MvcAngularClientApp;!function(t){"use strict";var e=function(){function e(t){this.$http=t,this.activate()}return e.prototype.activate=function(){},e.prototype.getIdentity=function(){return this.$http({url:t.BASE_API_URL+"identity",method:"get",data:null})},e.$inject=["$http"],e}();t.MyService=e,angular.module(t.NG_MODULE_NAME).service("MyService",e)}(MvcAngularClientApp||(MvcAngularClientApp={}));var MvcAngularClientApp;!function(t){"use strict";var e=function(){function e(t,e,n){this.$rootScope=t,this.$http=e,this.$q=n,this.activate()}return e.prototype.activate=function(){},e.prototype.fetchAccessToken=function(e){var n=this.$q.defer(),r=t.ACCESS_TOKENS[e];return r?n.resolve():this.getAccessToken().success(function(c){t.ACCESS_TOKENS[e]=c.Token,r=c.Token,n.resolve()}).error(function(t){console.log("there was an error"),n.reject()}),n.promise},e.prototype.getAccessToken=function(){return this.$http({url:"getaccesstoken",method:"get",data:null})},e.$inject=["$rootScope","$http","$q"],e}();t.TokenManager=e,angular.module(t.NG_MODULE_NAME).service("TokenManager",e)}(MvcAngularClientApp||(MvcAngularClientApp={}));var MvcAngularClientApp;!function(t){"use strict";var e=function(){function t(t){this.Token=t}return t}();t.AccessToken=e}(MvcAngularClientApp||(MvcAngularClientApp={}));